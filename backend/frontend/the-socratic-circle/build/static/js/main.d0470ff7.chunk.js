(this["webpackJsonpthe-socratic-circle"]=this["webpackJsonpthe-socratic-circle"]||[]).push([[0],{36:function(e,t,a){e.exports=a(69)},41:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},43:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),l=a.n(o),s=(a(41),a(42),a(43),a(7)),c=a(14),i=a(10),m=a.n(i),u=a(13),h=a(2),d=a(3),p=a(5),g=a(4),b=a(6),f=a(16),v=a.n(f),E=a(15),y=a.n(E),w=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).getCircleElements=function(e){var t=[];for(var n in a.circlesData)if(a.circlesData.hasOwnProperty(n)&&e.includes(n)){var r="badge circle "+a.circlesData[n][1];t.push({style:r,tag:a.circlesData[n][0]})}return t},a.state={},a.circlesData={ETHICS:["Ethics","badge-success"],SOPHISM:["Sophism","badge-danger"],METAPHYSICS:["Metaphysics","badge-warning"],RELIGION:["Religion","badge-info"],MORTALITY:["Mortality","badge-dark"]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.getCircleElements(this.props.data.circles);return r.a.createElement("div",{className:"card post view-component"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.props.data.title),r.a.createElement("h6",{className:"card-subtitle mb-2 post-subtitle"},this.props.data.user),r.a.createElement("p",{className:"card-text"},this.props.data.body),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"circle-container"},e.map((function(e,t){return r.a.createElement(s.b,{to:"/home",className:e.style,key:t},e.tag)}))),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"post-points float-right"},this.props.data.points)))))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[{title:"Socratic views on the meaning of life",user:"Pranav Nair",body:"I'll just nod, I've never been so good at shaking hands\n I live on the frozen surface of a fireball\n Where cities come together to hate each other in the name of sport\nAmerica, nothing is ever just anything\nI looked up to you, but you thought I would look the other way\nAnd you hear what you want to hear\nAnd they take what they want to take\nDon't be sad, won't ever happen like this anymore",circles:["SOPHISM","METAPHYSICS"],points:72},{title:"Bob Dylan is a poet",user:"Neil Young",body:"Well it ain't no use to sit and wonder why, babe\nIfin' you don't know by now\nAn' it ain't no use to sit and wonder why, babe\nIt'll never do some how\nWhen your rooster crows at the break a dawn\nLook out your window and I'll be gone\nYou're the reason I'm trav'lin' on\nDon't think twice, it's all right",circles:["MORTALITY"],points:19},{title:"Socratic views on the meaning of life",user:"Pranav Nair",body:"I'll just nod, I've never been so good at shaking hands\n I live on the frozen surface of a fireball\n Where cities come together to hate each other in the name of sport\nAmerica, nothing is ever just anything\nI looked up to you, but you thought I would look the other way\nAnd you hear what you want to hear\nAnd they take what they want to take\nDon't be sad, won't ever happen like this anymore",circles:["RELIGION","ETHICS","SOPHISM"],points:214},{title:"Socratic views on the meaning of life",user:"Pranav Nair",body:"I'll just nod, I've never been so good at shaking hands\n I live on the frozen surface of a fireball\n Where cities come together to hate each other in the name of sport\nAmerica, nothing is ever just anything\nI looked up to you, but you thought I would look the other way\nAnd you hear what you want to hear\nAnd they take what they want to take\nDon't be sad, won't ever happen like this anymore",circles:["RELIGION","SOPHISM"],points:753}]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-lg-12"},this.state.posts.map((function(e,t){return r.a.createElement(w,{data:e,key:t})})))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){console.log(this.props);var e="Login",t="/login",a="";return this.props.loggedIn&&(e="Logout",t="/",a=this.props.userData.name+" | "+this.props.userData.points),r.a.createElement("nav",{className:"navbar navbar-expand-md fixed-top navbar-light view-component"},r.a.createElement(s.b,{to:"/"},r.a.createElement("p",{className:"navbar-brand mb-0 navbar-font h1",id:"navbar-title"},"The Socratic Circle")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"}),r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},this.props.loggedIn&&r.a.createElement("label",{className:"h6 navbar-font"},a),r.a.createElement(s.b,{to:t},r.a.createElement("button",{className:"btn btn-outline-primary my-2 my-sm-1 ml-2 navbar-font",type:"submit",onClick:this.props.onLogout},e)),r.a.createElement(s.b,{to:{pathname:"/submit",state:{loggedIn:this.props.loggedIn,userData:this.props.userData}}},r.a.createElement("button",{className:"btn btn-outline-primary my-2 my-sm-1 ml-2 navbar-font",type:"submit"},"New Post")),r.a.createElement("button",{className:"btn btn-outline-primary my-2 my-sm-1 ml-2 navbar-font",type:"submit"},"Search"))))}}]),t}(n.Component),I=(n.Component,function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,user:null,loggedIn:!1,redirect:!1,userData:null,msg:""},a.logout=function(e){a.state.loggedIn&&(e.preventDefault(),localStorage.removeItem("jwtToken"),a.setState({loggedIn:!1,user:null,msg:"",userData:null}))},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("jwtToken")){e.next=5;break}this.setState({loading:!1,loggedIn:!1}),e.next=17;break;case 5:if(!this.state.loading){e.next=17;break}return e.prev=6,e.next=9,y.a.get("/api/protected",{headers:{Authorization:"Bearer ".concat(t)}});case 9:a=e.sent,this.setState({loading:!1,loggedIn:!0,user:v()(t,{header:!0}),userData:a.data.userData,msg:a.data.userData.name+" | "+a.data.userData.points}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0),this.setState({loading:!1,loggedIn:!0,user:v()(t,{header:!0}),msg:"The protected route failed :( Check console for errors"});case 17:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{onLogout:this.logout,loggedIn:this.state.loggedIn,userData:this.state.userData}),r.a.createElement("div",{className:"container-fluid panel"},r.a.createElement("div",{className:"row"},r.a.createElement(N,null))))}}]),t}(n.Component)),S=a(18),j=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",loading:!1,loggedIn:!1,error:""},a.handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}},a.handleSubmit=function(){var e=Object(u.a)(m.a.mark((function e(t){var n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({loading:!0}),n={email:a.state.email,password:a.state.password},e.prev=3,e.next=6,y.a.post("/api/login",n);case 6:r=e.sent,o=r.data.token,localStorage.setItem("jwtToken",o),a.setState({loading:!1,loggedIn:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("Incorrect login: "+e.t0),a.setState({loading:!1,error:"Login Failed"});case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("jwtToken");e&&(console.log("token",e),v()(e)&&this.setState({loggedIn:!0}))}},{key:"render",value:function(){return!0===this.state.loggedIn?r.a.createElement(c.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("div",{className:"container-fluid form-container"},r.a.createElement("div",{className:"card form view-component"},r.a.createElement("h3",{className:"text-center"},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Email"),r.a.createElement("input",{type:"email",className:"form-control",id:"email",value:this.state.email,placeholder:"Enter email",onChange:this.handleChange("email")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",value:this.state.password,id:"exampleInputPassword1",placeholder:"Password",onChange:this.handleChange("password")})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Login")),r.a.createElement("div",{className:"col text-center"},r.a.createElement("p",{className:"text-right form-bottom-text"},r.a.createElement(s.b,{className:"form-bottom-text",to:"/register"},"Create Account"))))),this.state.error&&r.a.createElement("div",{className:"alert alert-primary form-alert",role:"alert"},this.state.error))))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",password2:"",loading:!1,error:""},a.handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}},a.handleSubmit=function(){var e=Object(u.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.setState({loading:!0}),a.state.password==a.state.password2){e.next=6;break}a.setState({loading:!1,msg:"Passwords don't match"}),e.next=19;break;case 6:return n={name:a.state.name,email:a.state.email,password:a.state.password},console.log(n),e.prev=8,e.next=11,y.a.post("/api/register",n);case 11:e.sent,a.setState({loading:!1,msg:"Success"}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),a.setState({loading:!1,msg:"Registration Failed."});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("jwtToken");e&&(console.log("token",e),console.log(e),v()(e)&&this.setState({loggedIn:!0}))}},{key:"render",value:function(){return"Success"==this.state.msg?r.a.createElement(c.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("div",{className:"container-fluid form-container"},r.a.createElement("div",{className:"card form view-component"},r.a.createElement("h3",{className:"text-center"},"Create New Account"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:"Username",value:this.state.name,onChange:this.handleChange("name")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleChange("email")}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange("password")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Confirm Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password2",placeholder:"Password",value:this.state.password2,onChange:this.handleChange("password2")})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Create Account")),r.a.createElement("div",{className:"col text-center"},r.a.createElement("p",{className:"text-right form-bottom-text"},r.a.createElement(s.b,{className:"form-bottom-text",to:"/login"},"Login"))))),this.state.error&&r.a.createElement("div",{class:"alert alert-primary form-alert",role:"alert"},this.state.error))))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}},a.handleSubmit=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({loading:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={title:"",user:"",body:"",circle1:"-",circle2:"-",circle3:"-",error:""},a.circleNames=["-","Ethics","Sophism","Metaphysics","Religion","Mortality"],a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state.loggedIn&&this.setState({user:this.props.location.state.userData.name})}},{key:"render",value:function(){return console.log(this.state),this.props.location.state.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("div",{className:"container-fluid form-container"},r.a.createElement("div",{className:"card form view-component"},r.a.createElement("h3",{className:"text-center"},"Submit Post"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Title"),r.a.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:"Title",value:this.state.title,onChange:this.handleChange("title")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"Text"),r.a.createElement("textarea",{className:"form-control",id:"email",rows:"10",placeholder:"Enter text",value:this.state.body,onChange:this.handleChange("body")}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"(Optional)")),r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Circle 1"),r.a.createElement("select",{className:"form-control",id:"circle1",value:this.state.circle1,onChange:this.handleChange("circle1")},this.circleNames.map((function(e,t){return r.a.createElement("option",{key:t},e)})))),r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Circle 2"),r.a.createElement("select",{className:"form-control",id:"circle2",value:this.state.circle2,onChange:this.handleChange("circle2")},this.circleNames.map((function(e,t){return r.a.createElement("option",{key:t},e)})))),r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Circle 3"),r.a.createElement("select",{className:"form-control",id:"circle3",value:this.state.circle3,onChange:this.handleChange("circle3")},this.circleNames.map((function(e,t){return r.a.createElement("option",{key:t},e)})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Submit")),r.a.createElement("div",{className:"col text-center"},r.a.createElement("p",{className:"text-right form-bottom-text"},r.a.createElement(s.b,{className:"form-bottom-text",to:"/"},"Discard"))))),this.state.error&&r.a.createElement("div",{class:"alert alert-primary form-alert",role:"alert"},this.state.error)))):r.a.createElement(c.a,{to:"/login"})}}]),t}(n.Component),x=Object(c.g)(C);var D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/login",component:j},r.a.createElement(j,null)),r.a.createElement(c.b,{path:"/register",component:O},r.a.createElement(O,null)),r.a.createElement(c.b,{path:"/submit",component:x},r.a.createElement(x,null)),r.a.createElement(c.b,{path:"/"},r.a.createElement(I,null)))),r.a.createElement("footer",{class:"page-footer font-small blue"},r.a.createElement("div",{class:"footer-copyright text-center py-3"},"Development Build:",r.a.createElement("a",{href:"https://github.com/Automage/SocraticCircle"}," Source Code"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.d0470ff7.chunk.js.map